<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="scripts/navbar.js"></script>
    <script src="scripts/footer.js"></script>
    <link href="styles/resume.css" rel="stylesheet">
    <link href="styles/main.css" rel="stylesheet">
    <title>Resume</title>
    
    <script>
        $(document).ready(() => {
            function setHeader(xhr) {
                xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
            }
            let experience = document.getElementById('experiences');
            $.ajax({
                type: "GET",
                url: 'https://jennysu1105.github.io/info/experience.json',
                dataType: 'json',
                success : function(data){
                    $.each(data, function(exp, val){
                        console.log(val['position']);
                        let period = '<h5 class="time">' + val['time'] + '</h5>';
                        let position = '<p class="position">' + val['position'].join("<br>") + '</p>';
                        let company = '<p class="company">' + val['company'] + '</p>';
                        let location = '<p class="location">' + val['location'] + "</p>";
                        let description = '<p>' + val['description'] + '</p>';
                        let role = '<hr><ul><li>' + val['role'].join('</li><li>') + "</li></ul>";
                        experience.innerHTML += '<div class="d-flex entry"><div class="head">' + period + position + company + location + '</div><div class="desc">' + description + role + '</div>';
                    });
                }
            });

            let education = document.getElementById('education');
            $.ajax({
                type: "GET",
                url: 'https://jennysu1105.github.io/info/education.json',
                dataType: 'json',
                success : function(data){
                    $.each(data, function(exp, val){
                        console.log(val['position']);
                        let period = '<h5 class="time">' + val['time'] + '</h5>';
                        let name = '<p class="position">' + val['name'] + '</p>';
                        let school = '<p class="school">' + val['school'] + '</p>';
                        let location = '<p class="location">' + val['location'] + "</p>";
                        let description = '<p>' + val['description'] + '</p>';
                        education.innerHTML += '<div class="d-flex entry"><div class="head">' + period + '</div><div class="desc">' + school + name + location + '</div>';
                    });
                }
            });
        })
    </script>
</head>
<body>
    <nav-bar></nav-bar>
    <div class="container-fluid" style="margin-bottom: 10%">
        <div class="row mainbody shadow p-3 my-5 bg-white rounded">
            <h2>Experience</h2>
            <hr>
            <div class="container-fluid" id="experiences"></div>
        </div>
        <div class="row mainbody shadow p-3 mb-5 bg-white rounded">
            <h2>Education</h2>
            <hr>
            <div class="container-fluid" id="education"></div>
        </div>
    </div>
    <footer-jenny></footer-jenny>
</body>
</html>